(function(d){if("function"===typeof define&&define.amd)define(["JSRootPainter","d3"],d);else if("object"===typeof exports&&"undefined"!==typeof module)d(require("./JSRootCore.js"),require("d3"));else{if("object"!=typeof d3)throw Error("This extension requires d3.js","JSRootPainter.v7hist.js");if("undefined"==typeof JSROOT)throw Error("JSROOT is not defined","JSRootPainter.v7hist.js");if("object"!=typeof JSROOT.Painter)throw Error("JSROOT.Painter not defined","JSRootPainter.v7hist.js");d(JSROOT,d3)}})(function(d,
p){d.sources.push("v7more");d.v7.drawText=function(){var b=this.GetObject(),a=b.fOpts,c=this.canv_painter();this.pad_width();this.pad_height();var d=a.fTextSize.fAttr,e=-a.fTextAngle.fAttr,g=a.fTextAlign.fAttr;c=c.GetOldColor(a.fTextColor);a=a.fTextFont.fAttr;var h=this.GetCoordinate(b.fP);this.CreateG(!1);b={align:g,x:h.x,y:h.y,text:b.fText,rotate:e,color:c,latex:1};this.StartTextDrawing(a,d);this.DrawText(b);this.FinishTextDrawing()};d.v7.drawLine=function(){var b=this.GetObject(),a=b.fOpts,c=this.canv_painter(),
f=c.GetNewOpt(a,"line.width",1),e=c.GetNewOpt(a,"line.style",1),g=c.GetNewColor(a,"line.color","black");a=c.GetNewColor(a,"line.opacity",1);c=this.GetCoordinate(b.fP1);b=this.GetCoordinate(b.fP2);this.CreateG();this.draw_g.append("svg:line").attr("x1",c.x).attr("y1",c.y).attr("x2",b.x).attr("y2",b.y).style("stroke",g).attr("stroke-width",f).attr("stroke-opacity",a).style("stroke-dasharray",d.Painter.root_line_styles[e])};d.v7.drawBox=function(){var b=this.GetObject(),a=b.fOpts,c=this.canv_painter(),
f=a.fLineWidth.fAttr,e=a.fLineOpacity.fAttr,g=a.fLineStyle.fAttr,h=c.GetOldColor(a.fLineColor),l=a.fFillOpacity.fAttr;c=c.GetOldColor(a.fFillColor);var m=a.fFillStyle.fAttr,n=a.fRoundWidth.fAttr;a=a.fRoundHeight.fAttr;var k=this.GetCoordinate(b.fP1);b=this.GetCoordinate(b.fP2);this.CreateG();0==m&&(c="none");this.draw_g.append("svg:rect").attr("x",k.x).attr("width",b.x-k.x).attr("y",b.y).attr("height",k.y-b.y).attr("rx",n).attr("ry",a).style("stroke",h).attr("stroke-width",f).attr("stroke-opacity",
e).attr("fill",c).attr("fill-opacity",l).style("stroke-dasharray",d.Painter.root_line_styles[g])};d.v7.drawMarker=function(){var b=this.GetObject(),a=b.fOpts,c=this.canv_painter(),f=a.fSize.fAttr,e=a.fStyle.fAttr;a=c.GetOldColor(a.fColor);b=this.GetCoordinate(b.fP);f=new d.TAttMarkerHandler({style:e,color:a,size:f});this.CreateG();(e=f.create(b.x,b.y))&&this.draw_g.append("svg:path").attr("d",e).call(f.func)};return d});
